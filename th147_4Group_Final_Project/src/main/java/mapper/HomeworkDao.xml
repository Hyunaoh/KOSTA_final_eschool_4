<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.kosta.th147_4group.homeworkboard.dao" >
    <select id="getCount" resultType="Integer">
    select count(*) cnt from homework where ${param1} like '%${param2}%'
    </select>
    
    <select id="getHomeworkVO" resultType="com.kosta.th147_4group.vo.HomeworkVO">
SELECT * FROM homework LIMIT 0, 20;
SELECT * FROM homework LIMIT 20, 20;
SELECT * FROM homework LIMIT 40, 20;
SELECT * FROM homework LIMIT 60, 20;
SELECT * FROM homework LIMIT 80, 20;
SELECT * FROM homework LIMIT 100, 20;

</select>

    <select id="getHomeworkVO" resultType="com.kosta.th147_4group.vo.HomeworkVO" >
    select * from homework where seq=#{seq}
    </select>
    
    <delete id="delete">
    
    delete homewrok where seq=#{seq}
    
    
    </delete>
    
    <update id="update">
    
    update homework set hw_title=#{hw_title}, hw_content=#{hw_content},  hw_filesrc=#{hw_filesrc, jdbcType=varchar} where seq=#{seq}
    </update>
    <insert id="insert">
    <selectKey order ="BEFORE" keyProperty="seq" resultType="String">
    select ifnull(max(to_int(seq)),0)+1 from homework
    </selectKey>
    insert into homework(seq, hw_id, hw_title, hw_writer, hw_ymd, hw_filesrc, hw_filesrc2, hw_hit, hw_content )
   values(#{seq}, #{hw_id}, #{hw_title}, #{hw_writer} #{hw_ymd}, #{hw_filesrc, ,jdbcType=VARCHAR}, #{hw_filesrc2, ,jdbcType=VARCHAR}, #{hw_content} )
    </insert>
    </mapper>